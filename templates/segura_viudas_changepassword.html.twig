<!-- Login -->
<section id="change-password" class="nobgmobile">
    <div class="block full row mcolumn space-between">
        <div class="block row">
    <div class="block full column formlogin">
        <h2 class="noup" style="margin-bottom: 1em;">{{ "Canviar contrasenya" | t }}</h2>
        <p>{{ "Crea una contrasenya nova que només coneguis tu. Un cop creada, serà la teva nova clau d'accés." | t }}</p><br>

            {{ change_password_form }}
            
    </div>
        </div>
        <div style="margin:0em 0em 0em 0em;" class="block column top center middle recomendations-psw">
            <div class="inner">
                <span>{{ "RECOMENACIONS" | t }}</span>
                <h2 class="noup">{{ "Crear una clau segura" | t }}</h2>
                <ul>
                    <li><p>{{ "Ha de tenir com a mínim 8 caràcters." | t }}</p></li>
                    <li><p>{{ "Lletra majúscula." | t }}</p></li>
                    <li><p>{{ "Una minúscula." | t }}</p></li>
                    <li><p>{{ "Un número" | t }}</p></li>
                    <li><p>{{ "Un caràcter especial (+, -@ etc)" | t }}</p></li>
                </ul>
            </div>
        </div>
    </div>
</section>
<!-- Login -->

<script>
    function togglePassword(inputId, toggleId) {
        const input = document.getElementById(inputId);
        const toggle = document.getElementById(toggleId);
        const type = input.getAttribute('type');

        if (type === 'password') {
            input.setAttribute('type', 'text');
            toggle.style.opacity = '1';
        } else {
            input.setAttribute('type', 'password');
            toggle.style.opacity = '0.5';
        }
    }
(function ($, Drupal) {
  Drupal.behaviors.changePassword = {
    attach: function (context, settings) {
      var submitButtons = document.querySelectorAll('.form-submit');
      submitButtons.forEach(function (button) {
        if (!button.classList.contains('icon-processed')) {
          var iconContainer = document.createElement('span');
          iconContainer.className = 'icon-container';
          var icon = document.createElement('i');
          icon.className = 'icon-crest';
          iconContainer.appendChild(icon);
          var space = document.createTextNode(' ');
          button.insertBefore(iconContainer, button.firstChild);
          button.insertBefore(space, iconContainer.nextSibling);
          button.classList.add('icon-processed');
        }
      });
    },
  };
})(jQuery, Drupal);

(function ($, Drupal) {
  Drupal.behaviors.iconSubmit = {
    attach: function (context, settings) {
      var iconSubmit = document.getElementById('icon-submit');
      if (iconSubmit) {
        iconSubmit.addEventListener('click', function () {
          var submitStatus = document.getElementById('submit-status');
          if (submitStatus) {
            submitStatus.value = 'submit';
          }
          iconSubmit.form.submit();
        });
      }
    },
  };
})(jQuery, Drupal);



</script>